#include "mm_graph.h"

const int ROW=6;
const int COL=16;
const int R_BRO=4;
const int C_BRO=3;
const int NUM_PACKET_PAC=NUM_ENGINES_PER_PAC/4;    //number of packet in each graph
const int NUM_INSTANCES=ROW*COL;                   //graph number
const int NUM_OUT_PACK=NUM_INSTANCES/4;
using namespace adf;


template <int COL_OFFSET>
class mm_x96_x4_graph : public adf::graph {
	
public:
	input_port in_row[ROW*NUM_PACKET_PAC*COL/R_BRO];
	input_port in_col[COL*NUM_PACKET_PAC*ROW/C_BRO];

		
		adf::pktmerge<4>  mg_out[NUM_OUT_PACK];
		output_port out[NUM_OUT_PACK];
	
		//COL 0-96
       mm_x4_graph<COL_OFFSET+0, 0>  mm_x4_0_0;
       mm_x4_graph<COL_OFFSET+1, 0>  mm_x4_0_1;
       mm_x4_graph<COL_OFFSET+2, 0>  mm_x4_0_2;
       mm_x4_graph<COL_OFFSET+3, 0>  mm_x4_0_3;
       mm_x4_graph<COL_OFFSET+4, 0>  mm_x4_0_4;
       mm_x4_graph<COL_OFFSET+5, 0>  mm_x4_0_5;
       mm_x4_graph<COL_OFFSET+6, 0>  mm_x4_0_6;
       mm_x4_graph<COL_OFFSET+7, 0>  mm_x4_0_7;
       mm_x4_graph<COL_OFFSET+8, 0>  mm_x4_0_8;
       mm_x4_graph<COL_OFFSET+9, 0>  mm_x4_0_9;
       mm_x4_graph<COL_OFFSET+10, 0>  mm_x4_0_10;
       mm_x4_graph<COL_OFFSET+11, 0>  mm_x4_0_11;
       mm_x4_graph<COL_OFFSET+12, 0>  mm_x4_0_12;
       mm_x4_graph<COL_OFFSET+13, 0>  mm_x4_0_13;
       mm_x4_graph<COL_OFFSET+14, 0>  mm_x4_0_14;
       mm_x4_graph<COL_OFFSET+15, 0>  mm_x4_0_15;
       mm_x4_graph<COL_OFFSET+16, 0>  mm_x4_0_16;
       mm_x4_graph<COL_OFFSET+17, 0>  mm_x4_0_17;
       mm_x4_graph<COL_OFFSET+18, 0>  mm_x4_0_18;
       mm_x4_graph<COL_OFFSET+19, 0>  mm_x4_0_19;
       mm_x4_graph<COL_OFFSET+20, 0>  mm_x4_0_20;
       mm_x4_graph<COL_OFFSET+21, 0>  mm_x4_0_21;
       mm_x4_graph<COL_OFFSET+22, 0>  mm_x4_0_22;
       mm_x4_graph<COL_OFFSET+23, 0>  mm_x4_0_23;
       mm_x4_graph<COL_OFFSET+24, 0>  mm_x4_0_24;
       mm_x4_graph<COL_OFFSET+25, 0>  mm_x4_0_25;
       mm_x4_graph<COL_OFFSET+26, 0>  mm_x4_0_26;
       mm_x4_graph<COL_OFFSET+27, 0>  mm_x4_0_27;
       mm_x4_graph<COL_OFFSET+28, 0>  mm_x4_0_28;
       mm_x4_graph<COL_OFFSET+29, 0>  mm_x4_0_29;
       mm_x4_graph<COL_OFFSET+30, 0>  mm_x4_0_30;
       mm_x4_graph<COL_OFFSET+31, 0>  mm_x4_0_31;
       mm_x4_graph<COL_OFFSET+32, 0>  mm_x4_0_32;
       mm_x4_graph<COL_OFFSET+33, 0>  mm_x4_0_33;
       mm_x4_graph<COL_OFFSET+34, 0>  mm_x4_0_34;
       mm_x4_graph<COL_OFFSET+35, 0>  mm_x4_0_35;
       mm_x4_graph<COL_OFFSET+36, 0>  mm_x4_0_36;
       mm_x4_graph<COL_OFFSET+37, 0>  mm_x4_0_37;
       mm_x4_graph<COL_OFFSET+38, 0>  mm_x4_0_38;
       mm_x4_graph<COL_OFFSET+39, 0>  mm_x4_0_39;
       mm_x4_graph<COL_OFFSET+40, 0>  mm_x4_0_40;
       mm_x4_graph<COL_OFFSET+41, 0>  mm_x4_0_41;
       mm_x4_graph<COL_OFFSET+42, 0>  mm_x4_0_42;
       mm_x4_graph<COL_OFFSET+43, 0>  mm_x4_0_43;
       mm_x4_graph<COL_OFFSET+44, 0>  mm_x4_0_44;
       mm_x4_graph<COL_OFFSET+45, 0>  mm_x4_0_45;
       mm_x4_graph<COL_OFFSET+46, 0>  mm_x4_0_46;
       mm_x4_graph<COL_OFFSET+47, 0>  mm_x4_0_47;
       mm_x4_graph<COL_OFFSET+47, 4>  mm_x4_0_48;
       mm_x4_graph<COL_OFFSET+46, 4>  mm_x4_0_49;
       mm_x4_graph<COL_OFFSET+45, 4>  mm_x4_0_50;
       mm_x4_graph<COL_OFFSET+44, 4>  mm_x4_0_51;
       mm_x4_graph<COL_OFFSET+43, 4>  mm_x4_0_52;
       mm_x4_graph<COL_OFFSET+42, 4>  mm_x4_0_53;
       mm_x4_graph<COL_OFFSET+41, 4>  mm_x4_0_54;
       mm_x4_graph<COL_OFFSET+40, 4>  mm_x4_0_55;
       mm_x4_graph<COL_OFFSET+39, 4>  mm_x4_0_56;
       mm_x4_graph<COL_OFFSET+38, 4>  mm_x4_0_57;
       mm_x4_graph<COL_OFFSET+37, 4>  mm_x4_0_58;
       mm_x4_graph<COL_OFFSET+36, 4>  mm_x4_0_59;
       mm_x4_graph<COL_OFFSET+35, 4>  mm_x4_0_60;
       mm_x4_graph<COL_OFFSET+34, 4>  mm_x4_0_61;
       mm_x4_graph<COL_OFFSET+33, 4>  mm_x4_0_62;
       mm_x4_graph<COL_OFFSET+32, 4>  mm_x4_0_63;
       mm_x4_graph<COL_OFFSET+31, 4>  mm_x4_0_64;
       mm_x4_graph<COL_OFFSET+30, 4>  mm_x4_0_65;
       mm_x4_graph<COL_OFFSET+29, 4>  mm_x4_0_66;
       mm_x4_graph<COL_OFFSET+28, 4>  mm_x4_0_67;
       mm_x4_graph<COL_OFFSET+27, 4>  mm_x4_0_68;
       mm_x4_graph<COL_OFFSET+26, 4>  mm_x4_0_69;
       mm_x4_graph<COL_OFFSET+25, 4>  mm_x4_0_70;
       mm_x4_graph<COL_OFFSET+24, 4>  mm_x4_0_71;
       mm_x4_graph<COL_OFFSET+23, 4>  mm_x4_0_72;
       mm_x4_graph<COL_OFFSET+22, 4>  mm_x4_0_73;
       mm_x4_graph<COL_OFFSET+21, 4>  mm_x4_0_74;
       mm_x4_graph<COL_OFFSET+20, 4>  mm_x4_0_75;
       mm_x4_graph<COL_OFFSET+19, 4>  mm_x4_0_76;
       mm_x4_graph<COL_OFFSET+18, 4>  mm_x4_0_77;
       mm_x4_graph<COL_OFFSET+17, 4>  mm_x4_0_78;
       mm_x4_graph<COL_OFFSET+16, 4>  mm_x4_0_79;
       mm_x4_graph<COL_OFFSET+15, 4>  mm_x4_0_80;
       mm_x4_graph<COL_OFFSET+14, 4>  mm_x4_0_81;
       mm_x4_graph<COL_OFFSET+13, 4>  mm_x4_0_82;
       mm_x4_graph<COL_OFFSET+12, 4>  mm_x4_0_83;
       mm_x4_graph<COL_OFFSET+11, 4>  mm_x4_0_84;
       mm_x4_graph<COL_OFFSET+10, 4>  mm_x4_0_85;
       mm_x4_graph<COL_OFFSET+9, 4>  mm_x4_0_86;
       mm_x4_graph<COL_OFFSET+8, 4>  mm_x4_0_87;
       mm_x4_graph<COL_OFFSET+7, 4>  mm_x4_0_88;
       mm_x4_graph<COL_OFFSET+6, 4>  mm_x4_0_89;
       mm_x4_graph<COL_OFFSET+5, 4>  mm_x4_0_90;
       mm_x4_graph<COL_OFFSET+4, 4>  mm_x4_0_91;
       mm_x4_graph<COL_OFFSET+3, 4>  mm_x4_0_92;
       mm_x4_graph<COL_OFFSET+2, 4>  mm_x4_0_93;
       mm_x4_graph<COL_OFFSET+1, 4>  mm_x4_0_94;
       mm_x4_graph<COL_OFFSET+0, 4>  mm_x4_0_95;
	mm_x96_x4_graph() {
			for (int i =0; i<NUM_OUT_PACK; i++)  {
				mg_out[i] = adf::pktmerge<4>::create();
			}
			//Connect all input ports
		connect< pktstream, window< h1*w1*4 > >(in_row[0], mm_x4_0_0.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[0], mm_x4_0_1.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[0], mm_x4_0_2.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[0], mm_x4_0_3.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[1], mm_x4_0_4.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[1], mm_x4_0_5.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[1], mm_x4_0_6.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[1], mm_x4_0_7.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[2], mm_x4_0_8.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[2], mm_x4_0_9.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[2], mm_x4_0_10.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[2], mm_x4_0_11.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[3], mm_x4_0_12.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[3], mm_x4_0_13.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[3], mm_x4_0_14.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[3], mm_x4_0_15.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[4], mm_x4_0_16.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[4], mm_x4_0_17.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[4], mm_x4_0_18.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[4], mm_x4_0_19.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[5], mm_x4_0_20.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[5], mm_x4_0_21.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[5], mm_x4_0_22.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[5], mm_x4_0_23.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[6], mm_x4_0_24.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[6], mm_x4_0_25.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[6], mm_x4_0_26.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[6], mm_x4_0_27.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[7], mm_x4_0_28.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[7], mm_x4_0_29.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[7], mm_x4_0_30.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[7], mm_x4_0_31.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[8], mm_x4_0_32.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[8], mm_x4_0_33.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[8], mm_x4_0_34.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[8], mm_x4_0_35.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[9], mm_x4_0_36.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[9], mm_x4_0_37.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[9], mm_x4_0_38.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[9], mm_x4_0_39.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[10], mm_x4_0_40.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[10], mm_x4_0_41.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[10], mm_x4_0_42.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[10], mm_x4_0_43.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[11], mm_x4_0_44.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[11], mm_x4_0_45.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[11], mm_x4_0_46.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[11], mm_x4_0_47.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[12], mm_x4_0_48.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[12], mm_x4_0_49.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[12], mm_x4_0_50.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[12], mm_x4_0_51.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[13], mm_x4_0_52.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[13], mm_x4_0_53.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[13], mm_x4_0_54.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[13], mm_x4_0_55.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[14], mm_x4_0_56.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[14], mm_x4_0_57.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[14], mm_x4_0_58.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[14], mm_x4_0_59.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[15], mm_x4_0_60.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[15], mm_x4_0_61.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[15], mm_x4_0_62.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[15], mm_x4_0_63.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[16], mm_x4_0_64.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[16], mm_x4_0_65.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[16], mm_x4_0_66.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[16], mm_x4_0_67.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[17], mm_x4_0_68.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[17], mm_x4_0_69.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[17], mm_x4_0_70.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[17], mm_x4_0_71.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[18], mm_x4_0_72.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[18], mm_x4_0_73.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[18], mm_x4_0_74.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[18], mm_x4_0_75.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[19], mm_x4_0_76.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[19], mm_x4_0_77.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[19], mm_x4_0_78.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[19], mm_x4_0_79.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[20], mm_x4_0_80.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[20], mm_x4_0_81.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[20], mm_x4_0_82.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[20], mm_x4_0_83.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[21], mm_x4_0_84.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[21], mm_x4_0_85.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[21], mm_x4_0_86.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[21], mm_x4_0_87.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[22], mm_x4_0_88.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[22], mm_x4_0_89.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[22], mm_x4_0_90.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[22], mm_x4_0_91.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[23], mm_x4_0_92.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[23], mm_x4_0_93.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[23], mm_x4_0_94.in[0]);
		connect< pktstream, window< h1*w1*4 > >(in_row[23], mm_x4_0_95.in[0]);
	
		
		connect< pktstream, window< w1*w2*4 > >(in_col[0], mm_x4_0_0.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[0], mm_x4_0_16.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[0], mm_x4_0_32.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[1], mm_x4_0_48.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[1], mm_x4_0_64.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[1], mm_x4_0_80.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[2], mm_x4_0_1.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[2], mm_x4_0_17.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[2], mm_x4_0_33.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[3], mm_x4_0_49.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[3], mm_x4_0_65.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[3], mm_x4_0_81.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[4], mm_x4_0_2.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[4], mm_x4_0_18.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[4], mm_x4_0_34.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[5], mm_x4_0_50.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[5], mm_x4_0_66.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[5], mm_x4_0_82.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[6], mm_x4_0_3.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[6], mm_x4_0_19.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[6], mm_x4_0_35.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[7], mm_x4_0_51.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[7], mm_x4_0_67.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[7], mm_x4_0_83.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[8], mm_x4_0_4.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[8], mm_x4_0_20.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[8], mm_x4_0_36.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[9], mm_x4_0_52.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[9], mm_x4_0_68.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[9], mm_x4_0_84.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[10], mm_x4_0_5.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[10], mm_x4_0_21.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[10], mm_x4_0_37.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[11], mm_x4_0_53.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[11], mm_x4_0_69.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[11], mm_x4_0_85.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[12], mm_x4_0_6.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[12], mm_x4_0_22.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[12], mm_x4_0_38.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[13], mm_x4_0_54.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[13], mm_x4_0_70.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[13], mm_x4_0_86.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[14], mm_x4_0_7.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[14], mm_x4_0_23.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[14], mm_x4_0_39.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[15], mm_x4_0_55.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[15], mm_x4_0_71.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[15], mm_x4_0_87.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[16], mm_x4_0_8.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[16], mm_x4_0_24.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[16], mm_x4_0_40.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[17], mm_x4_0_56.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[17], mm_x4_0_72.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[17], mm_x4_0_88.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[18], mm_x4_0_9.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[18], mm_x4_0_25.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[18], mm_x4_0_41.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[19], mm_x4_0_57.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[19], mm_x4_0_73.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[19], mm_x4_0_89.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[20], mm_x4_0_10.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[20], mm_x4_0_26.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[20], mm_x4_0_42.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[21], mm_x4_0_58.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[21], mm_x4_0_74.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[21], mm_x4_0_90.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[22], mm_x4_0_11.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[22], mm_x4_0_27.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[22], mm_x4_0_43.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[23], mm_x4_0_59.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[23], mm_x4_0_75.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[23], mm_x4_0_91.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[24], mm_x4_0_12.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[24], mm_x4_0_28.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[24], mm_x4_0_44.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[25], mm_x4_0_60.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[25], mm_x4_0_76.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[25], mm_x4_0_92.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[26], mm_x4_0_13.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[26], mm_x4_0_29.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[26], mm_x4_0_45.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[27], mm_x4_0_61.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[27], mm_x4_0_77.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[27], mm_x4_0_93.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[28], mm_x4_0_14.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[28], mm_x4_0_30.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[28], mm_x4_0_46.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[29], mm_x4_0_62.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[29], mm_x4_0_78.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[29], mm_x4_0_94.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[30], mm_x4_0_15.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[30], mm_x4_0_31.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[30], mm_x4_0_47.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[31], mm_x4_0_63.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[31], mm_x4_0_79.in[1]);
		connect< pktstream, window< w1*w2*4 > >(in_col[31], mm_x4_0_95.in[1]);
	
		
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_0.out, mg_out[0].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_1.out, mg_out[0].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_2.out, mg_out[0].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_3.out, mg_out[0].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_4.out, mg_out[1].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_5.out, mg_out[1].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_6.out, mg_out[1].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_7.out, mg_out[1].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_8.out, mg_out[2].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_9.out, mg_out[2].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_10.out, mg_out[2].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_11.out, mg_out[2].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_12.out, mg_out[3].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_13.out, mg_out[3].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_14.out, mg_out[3].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_15.out, mg_out[3].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_16.out, mg_out[4].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_17.out, mg_out[4].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_18.out, mg_out[4].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_19.out, mg_out[4].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_20.out, mg_out[5].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_21.out, mg_out[5].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_22.out, mg_out[5].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_23.out, mg_out[5].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_24.out, mg_out[6].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_25.out, mg_out[6].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_26.out, mg_out[6].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_27.out, mg_out[6].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_28.out, mg_out[7].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_29.out, mg_out[7].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_30.out, mg_out[7].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_31.out, mg_out[7].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_32.out, mg_out[8].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_33.out, mg_out[8].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_34.out, mg_out[8].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_35.out, mg_out[8].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_36.out, mg_out[9].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_37.out, mg_out[9].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_38.out, mg_out[9].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_39.out, mg_out[9].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_40.out, mg_out[10].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_41.out, mg_out[10].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_42.out, mg_out[10].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_43.out, mg_out[10].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_44.out, mg_out[11].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_45.out, mg_out[11].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_46.out, mg_out[11].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_47.out, mg_out[11].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_48.out, mg_out[12].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_49.out, mg_out[12].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_50.out, mg_out[12].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_51.out, mg_out[12].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_52.out, mg_out[13].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_53.out, mg_out[13].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_54.out, mg_out[13].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_55.out, mg_out[13].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_56.out, mg_out[14].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_57.out, mg_out[14].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_58.out, mg_out[14].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_59.out, mg_out[14].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_60.out, mg_out[15].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_61.out, mg_out[15].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_62.out, mg_out[15].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_63.out, mg_out[15].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_64.out, mg_out[16].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_65.out, mg_out[16].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_66.out, mg_out[16].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_67.out, mg_out[16].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_68.out, mg_out[17].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_69.out, mg_out[17].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_70.out, mg_out[17].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_71.out, mg_out[17].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_72.out, mg_out[18].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_73.out, mg_out[18].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_74.out, mg_out[18].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_75.out, mg_out[18].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_76.out, mg_out[19].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_77.out, mg_out[19].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_78.out, mg_out[19].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_79.out, mg_out[19].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_80.out, mg_out[20].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_81.out, mg_out[20].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_82.out, mg_out[20].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_83.out, mg_out[20].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_84.out, mg_out[21].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_85.out, mg_out[21].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_86.out, mg_out[21].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_87.out, mg_out[21].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_88.out, mg_out[22].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_89.out, mg_out[22].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_90.out, mg_out[22].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_91.out, mg_out[22].in[3]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_92.out, mg_out[23].in[0]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_93.out, mg_out[23].in[1]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_94.out, mg_out[23].in[2]);
		adf::connect<adf::window<h1*w2*4>, adf::pktstream > (mm_x4_0_95.out, mg_out[23].in[3]);

	    	for (int i=0; i<NUM_OUT_PACK; i++)  {
	        	adf::connect<adf::pktstream> (mg_out[i].out[0], out[i]);
	        }
   }
};
